/*! oao 201505181619 */
var BBT_tooltip=function(a){function b(b){a('[data-name="tooltip-trigger"]').each(function(){c(a(this))}),b.children(".tooltip").show(0,function(){d(b)})}function c(b){var c=b.children(".tooltip");c.removeClass("fixed-tip").hide(0,function(){b.removeClass("static"),b.parents(".column-one").css("position","relative")}),c.removeClass("on-top on-bottom tip-visible set-right set-left normal").removeAttr("style"),a(".modal-mask.for-tooltip").hide()}function d(b){var c=a(window).scrollTop(),d=b.offset().top,e=b.children(".tooltip"),f=b.width(),g=e.outerWidth(!1),h=parseInt(g),i=h-f,j=i/2,k=Math.floor(j);e.css("left","-"+k+"px");var l=parseInt(e.attr("data-name")),m=d-l,n=b.offset().left,o=n+b.outerWidth(!1),p=a(window).width()-o;console.info("BBT_toolTips.checkTop: Element: "+b+" scrollPos: "+c+" tipTop: "+m),console.info("BBT_toolTips.checkTop: theTriggerLeft: "+n+" tooltipWidth: "+g),e.addClass(c>=m?"on-bottom":"on-top"),g>n?e.addClass("set-right").css("left","5%").removeClass("normal"):g>p&&e.addClass("set-left").css({right:"-5%",left:"auto"}).removeClass("normal")}var e=a(".tooltip"),f=a('[data-name="tooltip-trigger"]'),g=a(".tooltip .exit"),h=(e.outerHeight(),a(".help.js-launchLoader").length);f.bind({click:function(){theTrigger=a(this),a(this).children(".tooltip").is(":visible")||b(theTrigger)}}),a(document).bind("touchstart mouseup",function(b){var d=a(".tooltip:visible");d.is(b.target)||0!==d.has(b.target).length||c(f)}),a(".tooltip:visible").click(function(){a(this).show()}),a(f).keyup(function(d){13==d.which&&(a(this).children(".tooltip").is(":visible")?(theTrigger=a(this),c(theTrigger)):(theTrigger=a(this),b(theTrigger)))}),g.click(function(){return theTrigger=a(this).parents(".help"),c(theTrigger),!1}),a(document).keyup(function(b){if(27==b.which){var c=a(".tooltip:visible").parents(".help");e.removeClass("fixed-tip").hide(),c.focus()}}),a(".modal-mask.for-tooltip").click(function(){theTrigger=a(".tooltip:visible").parents(".help"),c(theTrigger)}),a(".tooltip").each(function(){a(this).css({position:"fixed",bottom:"-99999em"}).hide(0,function(){var b=a(this).outerHeight(!1);a(this).attr("data-name",b).removeAttr("style")})});var i;return a(window).resize(function(){a(".tooltip").is(":visible")&&(clearTimeout(i),theTrigger=a(".tooltip:visible").parents(".help"),i=setTimeout(c(theTrigger),400))}),a(document).ready(function(){h&&a(".help.js-launchLoader").each(function(){theTrigger=a(this),a(this).children(".tooltip").is(":visible")||b(theTrigger)})}),{tooltipShow:b,tooltipHide:c}}(jQuery);